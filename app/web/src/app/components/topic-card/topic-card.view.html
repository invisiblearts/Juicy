<div class="card hoverable" ng-click="vm.selectTopic(vm.jcTopic.title)" ng-class="vm.jcTopic.featured && vm.jcTopicBrief? 'light-blue darken-1' : 'white'">
    <div ng-class="vm.jcTopicBrief? 'clickable' : noop">
        <div ng-if="vm.jcTopicBrief" class="card-image waves-effect waves-block waves-light">
            <img class="activator" ng-src="{{::vm.jcTopic.thumbnail}}"/>
        </div>
        <div class="card-content" ng-class="!vm.jcTopic.featured || !vm.jcTopicBrief? 'black-text':'white-text'">
            <div class="right">
                <a ng-if="vm.isAdmin" ng-click="vm.editTopic(vm.jcTopic._id)" class="modal-action waves-effect waves-green btn clickable">Edit</a>
            </div>
            <span class="card-title activator" ng-class="!vm.jcTopic.featured || !vm.jcTopicBrief? 'cyan-text':'yellow-text'" style="margin-left:0">{{::vm.jcTopic.title}}</span>
            <p>
                <span>{{::vm.jcTopic.createdAt | date:"yyyy-MM-dd HH:mm:ss"}}</span>
                <div ng-repeat="tag in vm.jcTopic.tags"  class="chip white-text {{tag.class}}">
                    {{tag.name}}
                </div>
            </p>

            <p ng-if="vm.jcTopicBrief">{{::vm.jcTopic.summary}}</p>
            <div ng-if="!vm.jcTopicBrief" ng-bind-html="vm.jcTopic.html"></div>
            <a ng-if="vm.jcTopicShare" class="clickable btn" ng-click="vm.share()">
                WEIBO SHARE
            </a>
        </div>

        <div class="card-action article" style="border-top:0px;padding: 0px;" ng-if="!vm.jcTopicBrief">
            <ul style="margin-top:30px;border:0;" ng-if="vm.jcTopic.comments.length" class="collection">
                <li ng-repeat="c in vm.jcTopic.comments" class="collection-item avatar" style="background-color: transparent;padding-bottom: 0px;min-height:68px;{{vm.content.featured? 'border-top:1px solid #64b5f6   ' : 'border-top:1px solid #e0e0e0 '}}">
                    <img ng-if="c.user[0] && c.user[0].avatar" ng-src="{{c.user[0].avatar}}" alt="" class="circle">

                    <span class="title">{{c.user[0] ? c.user[0].username : '阿卡林'}} </span>

                    <p class="{{vm.jcTopic.featured? 'grey-text text-lighten-3':'grey-text text-darken-2'}}">{{c.body}}</p>
                </li>
            </ul>
        </div>

    </div>
</div>
