<div ng-class="vm.jcTopicBrief ? 'marg50' : angular.noop" ng-if="!vm.placeholder">
    {{ vm.jcTopic}}
    <div class="classic-blog">
        <div ng-if="vm.jcTopicBrief" class="cl-blog-img">
            <div ng-if="vm.jcTopic.thumbnail" class="post-thumbnail" style="max-height: 1440px">
                <a id="img" href="{{::vm.jcTopic.thumbnail + '.jpg'}}" lightboxed>
                    <img ng-src="{{::vm.jcTopic.thumbnail + '.jpg'}}" alt="">
                </a>
            </div>
            <div class="cl-blog-naz">
                <div class="cl-blog-type"><i class="{{::vm.jcTopic.staticType}}"></i></div>
                <div class="cl-blog-name" ng-click="vm.selectTopic(vm.jcTopic._id)"><a ng-href="/topics/{{::vm.jcTopic._id}}">{{::vm.jcTopic.title}}</a></div>
                <div class="cl-blog-detail">
                    <i class="icon-basic-clock" style="padding-right: 6px"></i>
                    <span style="padding-right: 10px">{{::vm.jcTopic.createdAt | date:"yyyy-MM-dd HH:mm:ss"}}</span>
                    <i ng-if="vm.jcTopic.tags.length" class="icon-basic-signs hidden-sm hidden-xs" style="padding-right: 6px"></i>
                    <span class="hidden-sm hidden-xs" ng-repeat="tag in ::vm.jcTopic.tags">{{::tag.name}} </span>
                </div>
                <h4 ng-if="vm.jcTopicBrief" class="cl-blog-text title-light">{{::vm.jcTopic.summary}} </h4>
            </div>
        </div>

        <div ng-if="vm.jcTopicBrief">
            <div class="cl-blog-read" style="margin-right: 20px"><a ng-click="vm.selectTopic(vm.jcTopic._id)" ng-href="/topics/{{::vm.jcTopic._id}}">Read More</a></div>
            <div ng-if="vm.isAdmin" class="cl-blog-read"><a ng-click="vm.editTopic(vm.jcTopic._id)" href="#">Edit</a></div>
            <div class="cl-blog-line"></div>
        </div>

        <div ng-if="!vm.jcTopicBrief" class="cl-blog-text cl-blog-img" ng-bind-html="vm.jcTopic.html"></div>

        <div ng-if="!vm.jcTopicBrief" class="row">
            <div class="col-lg-11 col-md-11 hidden-sm hidden-xs">
                <div class="tags-blog-single">
                    <ul class="tags-blog">
                        <li ng-repeat="tag in vm.jcTopic.tags"><a href="#">{{tag.name+' '}} </a></li>
                    </ul>
                </div>
            </div>
            <div ng-if="vm.jcTopicShare" ng-click="vm.share()" class="col-lg-1 col-md-1 col-sm-12 col-xs-12">
                <div class="soc-blog-single">
                    <ul class="soc-blog">
                        <button class="btn btn-vf btn-large"><a href="#"><i class="fa fa-weibo"></i>&nbsp;SHARE</a></button>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="vm.jcTopic.comments.length<=0" class="cl-blog-line-com"></div>

    <div ng-if="!vm.jcTopicBrief && vm.jcTopic.comments && vm.jcTopic.comments.length>0">
        <h3>{{vm.jcTopic.comments.length}} Comments on "{{::vm.jcTopic.title}}"</h3>
        <div ng-repeat="c in vm.jcTopic.comments">
            <div class="comment" style="padding:15px 0px 15px 0px;">
                <img ng-if="c.user[0] && c.user[0].avatar" ng-src="{{c.user[0].avatar}}" alt="" class="img_comm">
                <img ng-if="!c.user[0] || !c.user[0].avatar" src="https://img.moegirl.org/common/thumb/b/b7/Transparent_Akkarin.jpg/250px-Transparent_Akkarin.jpg" alt="" class="img_comm">
                <div class="comm_name">
                    {{c.user[0] ? c.user[0].username : '阿卡林'}}
                    <div ng-show="vm.checkSelf(c.user[0]) && (!c.user[0] || !c.user[0].avatar)"
                         flow-init
                         flow-files-submitted="vm.upload( $files, $event, $flow )"
                         flow-file-success="$file.msg = $message"
                         flow-btn class="btn btn-vf btn-xxs">
                         上传头像!
                    </div>
                </div>
                <p class="text_cont com_top">{{c.body}}</p>
            </div>
            <div class="cl-blog-line-com"></div>
        </div>
    </div>
</div>

<div ng-class="vm.jcTopicBrief ? 'marg50' : angular.noop" ng-if="vm.placeholder">
    loading
    <div class="classic-blog animated-background">
        <div ng-if="vm.jcTopicBrief" class="cl-blog-img">
            <div ng-if="vm.jcTopic.thumbnail" class="post-thumbnail background-masker" style="max-height: 1440px"></div>

            <div class="cl-blog-naz">
                <div class="cl-blog-type background-masker"></div>
                <div class="cl-blog-name background-masker"></div>
                <div class="cl-blog-detail background-masker"></div>
                <h4 ng-if="vm.jcTopicBrief" class="cl-blog-text title-light background-masker">{{::vm.jcTopic.summary}} </h4>
            </div>
        </div>

        <div ng-if="vm.jcTopicBrief">
            <div class="cl-blog-read background-masker" style="margin-right: 20px"></div>
            <div class="cl-blog-line background-masker"></div>
        </div>

        <div ng-if="!vm.jcTopicBrief" class="cl-blog-text cl-blog-img background-masker" ng-bind-html="vm.jcTopic.html"></div>

        <div ng-if="!vm.jcTopicBrief" class="row">
            <div class="col-lg-11 col-md-11 hidden-sm hidden-xs">
                <div class="tags-blog-single">
                    <ul class="tags-blog background-masker"></ul>
                </div>
            </div>
            <div ng-if="vm.jcTopicShare" class="col-lg-1 col-md-1 col-sm-12 col-xs-12 background-masker">
                <div class="soc-blog-single">
                    <ul class="soc-blog background-masker"></ul>
                </div>
            </div>
        </div>
    </div>
</div>