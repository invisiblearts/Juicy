"use strict";!function(){angular.module("app",["ui.router","ui.materialize","app.modules","app.components"])}(),function(){function e(){return function(e){if(!e)return e;var t=e.replace(/(\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;").replace(/ /g,"&nbsp;");return t}}angular.module("app").filter("breakFilter",e)}(),function(){angular.module("app").constant("APP_CONST",{title:"Juicy",version:"v2 alpha1",production:!0,api:"/api/"})}(),function(){function e(){}angular.module("app").controller("appCtrl",e)}(),function(){angular.module("app").factory("appEvent",["$rootScope",function(e){var t="_DATA_UPDATED_",n=function(n,i){n=n||t,i=i||{},e.$emit(n,i)},i=function(n,i,o){if(!angular.isFunction(i))return void console.log(n+": Needs a callback function");n=n||t;var a=e.$on(n,i);o&&o.$on("$destroy",a)};return{publish:n,subscribe:i}}])}(),function(){function e(e,t){function n(){return localStorage.getItem("juicy_token")}e.defaults.headers.common={Accept:"application/json, text/plain, */*","Content-Type":"application/json"},e.defaults.headers.post={},e.defaults.headers.put={},e.defaults.headers.patch={},e.interceptors.push("jwtInterceptor"),t.tokenGetter=n}e.$inject=["$httpProvider","jwtInterceptorProvider"],angular.module("app").config(e)}(),function(){function e(e,t){t.otherwise("beats"),e.state("beats",{url:"/beats",templateUrl:"partials/beats/beats.view.html",controller:"beatsCtrl",controllerAs:"vm"}).state("beats.specified",{url:"/month/:month",templateUrl:"partials/beats/beats.view.html",controller:"beatsCtrl",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"partials/about/about.view.html",controller:"aboutCtrl",controllerAs:"vm"}).state("compose",{url:"/compose",templateUrl:"partials/compose/compose.view.html",controller:"composeCtrl",controllerAs:"vm"}).state("compose-edit",{url:"/compose/:id",templateUrl:"partials/compose/compose.view.html",controller:"composeCtrl",controllerAs:"vm"}).state("login",{url:"/login",templateUrl:"partials/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).state("analysis",{url:"/analysis",templateUrl:"partials/analysis/analysis.view.html",controller:"analysisCtrl",controllerAs:"vm"}).state("topics",{url:"/topics",templateUrl:"partials/topics/topics.view.html",controller:"topicsCtrl",controllerAs:"vm"}).state("links",{url:"/links",templateUrl:"partials/links/links.view.html",controller:"linksCtrl",controllerAs:"vm"}).state("topics-detail",{url:"/topics/:id",templateUrl:"partials/topics/topics-detail.view.html",controller:"topicsDetailCtrl",controllerAs:"vm"})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").config(e)}(),function(){function e(e,t){function n(e){return t.post("http://x.mouto.org/wb/x.php?up",e)}function i(){if(localStorage.getItem("juicy_token")){var t=e.decodeToken(localStorage.getItem("juicy_token"));if(t)return t.isAdmin}return!1}var o={uploadImage:n,isAdmin:i};return o}e.$inject=["jwtHelper","$http"],angular.module("app").service("appService",e)}(),function(){angular.module("app.components",["angularGrid","duScroll","infinite-scroll"])}(),function(){angular.module("app.modules",["angularGrid","duScroll","angular-jwt","ng-showdown","flow"])}(),function(){function e(e){function t(e,t,n,i){e.vm.content=i.content,e.vm.showDst=i.showDst,e.vm.utcCn=i.utcCn,e.vm.isAdmin=i.isAdmin,e.vm.hideProgress=i.hideProgress,e.vm.refreshInit()}function n(t,n){function i(){angular.isUndefined(e)||angular.isUndefined(e.cards)||!r.content.init||e.cards.refresh()}function o(e){var t=n("date")(new Date(e),"yyyy-MM-dd HH:mm:ss",a(e));return r.showDst&&(t+="+0100"===a(e)?" Winter Time":" Summer Time"),t}function a(e){if(!angular.isUndefined(e))return e=new Date(e),e>new Date(14275872e5)&&e<new Date(14457312e5)||e>new Date(13961376e5)&&e<new Date(14142816e5)?"+0200":r.utcCn?"+0800":"+0100"}var r=this;r.timeMessage="",r.refreshInit=i;var c=t.$watch("vm.content.time",function(e){r.timeMessage=o(e),c()})}n.$inject=["$scope","$filter"];var i={controller:n,controllerAs:"vm",templateUrl:"components/card/card-content.tmpl.html",scope:{},require:"^^jcCard",link:t,bindToController:!0};return i}e.$inject=["angularGridInstance"],angular.module("app.components").directive("jcCardContent",e)}(),function(){function e(){function e(e,t,n,i){e.cardCtrl=i,e.vm.content=i.content}function t(e,t){function n(){e.cardCtrl.deleted=!0,t.publish("deleteBeats",o.content._id)}function i(){t.publish("modifyBeats",o.content)}var o=this;o.deleteBeats=n,o.modifyBeats=i}t.$inject=["$scope","appEvent"];var n={controller:t,controllerAs:"vm",templateUrl:"components/card/card-control.tmpl.html",require:"^^jcCard",scope:{},link:e,bindToController:!0};return n}angular.module("app.components").directive("jcCardControl",e)}(),function(){function e(){function e(e,t){var n=this;n.deleted=!1,n.prod=e.production,n.isAdmin=t.isAdmin()}e.$inject=["APP_CONST","appService"];var t={controller:e,controllerAs:"vm",templateUrl:"components/card/card.tmpl.html",scope:{content:"=jcContent",showDst:"@jcShowDst",utcCn:"@jcShowUtcCn",hideProgress:"@jcHideProgress"},bindToController:!0};return t}angular.module("app.components").directive("jcCard",e)}(),function(){function e(e){function t(t,n,i,o,a){function r(t){e.go(t)}var c=this;c.appTitle=a.title,c.appVersion=a.version,c.navs=i("orderBy")(t.navConfig,"order",!0),c.gotoState=r}t.$inject=["jcNav","$scope","$filter","appEvent","APP_CONST"];var n={controller:t,controllerAs:"vm",templateUrl:"components/nav/nav.tmpl.html",bindToController:!0};return n}e.$inject=["$state"],angular.module("app.components").directive("jcNav",e)}(),function(){function e(){function e(e){angular.forEach(e,function(e){t(e)})}function t(e){n.push(e)}var n=[];this.$get=function(){return{addMenu:e,navConfig:n}}}angular.module("app").provider("jcNav",e)}(),function(){function e(e){function t(e,t,n,i){function o(){p.customRefreshEnabled?(p.displayedDataMirror=p.data,p.displayedData=t("filter")(p.displayedDataMirror,c)):a()}function a(){var e=!0;p.displayedData=[],v=[],f=0,l(d,e)}function r(e,t){for(var n=0;n<p.displayedData.length;n++)if(p.displayedData[n].time===t)return p.displayedData.splice(n,1),void f--}function c(e){null==e.featured&&(e.featured=!1),null==e.safe&&(e.safe=!0);var t=!p.featuredOnly||p.featuredOnly&&e.featured,n=!p.safeOnly||p.safeOnly&&e.safe;return t&&n}function l(e,t){for(var n=0;n<e;n++){if(null==p.data||null==p.data[f])return;t&&(p.data[f].init=!0),v.push(p.data[f]),c(p.data[f])?p.displayedData.push(p.data[f]):n--,f++}}function s(){p.customRefreshEnabled?e.$apply(p.customRefresh()):l(m)}function u(e){return function(i,o){1!=o&&(o=!1),p[e]=o,n.cards.refresh(),l(m),p.displayedData=t("filter")(v,c)}}var p=this,d=p.initialCard?parseInt(p.initialCardNum,10):15,m=p.newCardPerPage?parseInt(p.newCardPerPage,10):6,f=0,v=[];p.displayedData=[],p.loadMore=s,p.featuredOnly=!1,p.safeOnly=!0,i.subscribe("toggleFeatured",u("featuredOnly"),e),i.subscribe("toggleWeired",u("safeOnly"),e),i.subscribe("deleteData",r,e),e.$watchCollection("vm.data",function(){p.data&&p.data.length&&o()},!0),e.$on("$repeatFinished",function(e,t){n.cards.refresh()})}t.$inject=["$scope","$filter","angularGridInstance","appEvent"];var n={controller:t,controllerAs:"vm",templateUrl:"components/masonry-cards/masonry-cards.view.html",scope:{data:"=jcData",initialCardNum:"@jcInitNum",newCardPerPage:"@jcRefreshNum",customRefresh:"=jcCustomRefresh",customRefreshEnabled:"=jcCustomRefreshEnabled"},bindToController:!0};return n}e.$inject=["$q"],angular.module("app.modules").directive("jcMasonryCards",e)}(),function(){function e(e){return function(t,n){var i=angular.element(e),o=function(){t.winWidth=i.width()};i.bind("resize",function(){o()}),o(),n.css("height",i.height()-20+"px")}}e.$inject=["$window"],angular.module("app.components").directive("resize",e)}(),function(){function e(){function e(e,t,n,i){e.vm.settings=i.settings}function t(e){function t(t){e.publish(t.event,t.value)}var n=this;n.handleSettings=t}t.$inject=["appEvent"];var n={controller:t,controllerAs:"vm",require:"^jcSubNav",link:e,templateUrl:"components/sub-nav/sub-nav-settings.tmpl.html",bindToController:!0};return n}angular.module("app.components").directive("jcSubNavSettings",e)}(),function(){function e(){function e(e,t,n,i){e.subNavCtrl=i}function t(e,t,n,i,o){function a(){t.scrollTop(63.9,2e3)}function r(e){a(),n.go(e.state,e.stateParam),o.publish("jcSubNavSectionSwitched",e)}var c=this;c.displaySection=r,c.displaySettings=!1}t.$inject=["$rootScope","$document","$state","$scope","appEvent"];var n={controller:t,controllerAs:"vm",templateUrl:"components/sub-nav/sub-nav-tabs.tmpl.html",require:"^jcSubNav",link:e,bindToController:!0};return n}angular.module("app.components").directive("jcSubNavTabs",e)}(),function(){function e(){function e(e,t){var n=this;n.displaySettings=!1}e.$inject=["$scope","appEvent"];var t={controller:e,controllerAs:"vm",templateUrl:"components/sub-nav/sub-nav.tmpl.html",scope:{sections:"=jcSections",active:"=jcActive",settings:"=jcSettings"},bindToController:!0};return t}angular.module("app.components").directive("jcSubNav",e)}(),function(){function e(){function e(e,t,n,i,o){function a(){void 0!==s.jcTopic&&(s.jcTopicBrief||(s.jcTopic.html=t.makeHtml(s.jcTopic.content)))}function r(e){o.publish("topicSelected",{id:e})}function c(e){o.publish("editTopic",{id:e})}function l(){s.nowUrl="https://src.moe/#"+n.url(),function(t,n,i){function o(){window.open([a,c].join(""),"mb",["toolbar=0,status=0,resizable=1,width=620,height=450,left=",(t.width-620)/2,",top=",(t.height-450)/2].join(""))||(r.href=[a,c].join(""))}try{}catch(i){}var a="http://v.t.sina.com.cn/share/share.php?",r=e.nowUrl,c=["url=",i(r),"&title=",i(s.jcTopic.title),"&pic=",i(s.jcTopic.thumbnail)].join("");/Firefox/.test(navigator.userAgent)?setTimeout(o,0):o()}(screen,document,encodeURIComponent)}var s=this;s.selectTopic=r,s.share=l,s.editTopic=c,s.isAdmin=i.isAdmin(),a(),e.$watch("vm.jcTopic",function(){s.jcTopic&&a()},!0)}e.$inject=["$scope","$showdown","$location","appService","appEvent"];var t={controller:e,controllerAs:"vm",scope:{jcTopic:"=",jcTopicBrief:"=",jcTopicShare:"=",jcShadowDisabled:"="},templateUrl:"components/topic-card/topic-card.view.html",bindToController:!0};return t}angular.module("app.components").directive("jcTopicCard",e)}(),function(){function e(){var e=this;e.aboutData=[{title:"Road to V2",time:1456751208e3,text:"TODO:Build up a compiling workflow with Gulp + Browserify\nTODO:Comment and tag function to add in further releases \nTODO:Music section and Anime wallpapers switch\nTODO:(V3)Analysis module to add in further releases(optional)\nTODO:(V3)Unit Tests\nTODO:(V3+)Angular 2",featured:!0},{title:"v2 alpha2",time:1467907913966,text:"Redis Cache , Links module",featured:!0},{title:"v2 alpha1",time:1467733803777,text:"Image Uploading , Beats and Topics editing , bug fixes",featured:!0},{title:"v2 alpha0",time:1467649952611,text:"Topic Modules with Markdown , ExpressJS Backend and UserLogin",featured:!1},{title:"AngularJS Libs",time:1456420305e3,text:"Modified Angular-materialize(including Materialize)\nModified Angular-grid by s-yadav (https://github.com/s-yadav/angulargrid)",featured:!1},{title:"About Me",time:1456420305e3,text:"Author : POJOa\nSite : http://src.moe/",featured:!1},{title:"v1.5",time:1458114983e3,text:"Multiple Bug Fixes For Recent Tab",featured:!1},{title:"v1.4.2",time:1458012771e3,text:"Ready For Express Backend\nAdded Recent Column\nThe Filter In Recent Column Currently Won't Work",featured:!1},{title:"v1.4.1",time:1457162347e3,text:"Initialization of Compose Module",featured:!1},{title:"Stable Release v1.4 (Nozomi)",time:1456751208e3,text:"Optimized performance",featured:!0},{title:"v1.4 RC1 2016.02.28",time:1456675603e3,text:"Nozomi is a Stable Version Milestone , from then I'll create a backend in express for it.\nOptimized Documentation.\nRenewed Card Style\nRefractor and Added Navbar Order\nRefresh Policy Change",featured:!1},{title:"v1.3 2016.02.25",time:1456420305e3,text:"Heavy Refractor of Card/Cards View and components\nUpdated angular-grid\nSolved various tiny bugs\n",featured:!1},{title:"v1.2 2016.02.24",time:14562432e5,text:"Refractor jcSubNav\nEnhancement of Picture Displaying\nDisabled Slider (will be taken into account after next major release)\nAdded App Drawer For Mobile Devices\n"},{title:"v1.1 2016.02.23",time:14561568e5,text:"Added Navbar Customize Configuration Provider\nAdded Event Service.\nFixed (and disabled) Card Control.\nFixed Navbar Bug , added version badge.\nMinimalized data for Github."},{title:"Release v1 2016.02.13",time:14552928e5,text:"Adjust Navbar Style.\nAdded Loading Bar.\nSpecified Feature Cards.\n",featured:!0},{title:"Pre-release 2016.02.12",time:14552064e5,text:"Fixed height issue."},{title:"v0.4 2016.02.11",time:145512e7,text:"Unlimited Refreshing! Featured Filter!!"},{title:"v0.3 2016.02.10",time:14550336e5,text:"Added Cascade Displaying , switched to UI-Router"},{title:"v0.2 2016.02.09",time:14549472e5,text:"Built Project Skeleton , added cascade displaying"},{title:"v0.1 2016.02.08",time:14548608e5,text:"Simplified JSON structure"}]}angular.module("app.modules").controller("aboutCtrl",e)}(),function(){function e(e){e.$get().addMenu([{title:"Logs",state:"about",order:3}])}e.$inject=["jcNavProvider"],angular.module("app").config(e)}(),function(){function e(e,t,n,i,o,a,r,c,l){function s(){var e=w.pageForCustomRefresh*y;T&&(y=A),w.lock||(w.lock=!0,l.fetchBySkipAndLimit(e,y).success(function(e){e&&e.length?(angular.forEach(e,function(e){e.init=T,w.selectedBeats.beats||(w.selectedBeats.beats=[]),w.selectedBeats.beats.push(e)}),w.pageForCustomRefresh++,w.lock=!1):w.lock=!0,T=!1}))}function u(){i.scrollTop(0,2e3)}function p(e,t){w.newBeat=t}function d(e,t){l.deleteOne(t)}function m(e){return w.currentSelectedMonth=e,w.currentSelectedTab=f(e),l.fetchByMonth(e,1).success(function(e){w.selectedBeats=e})}function f(e){return{title:b(e),state:"beats.specified",stateParam:{month:e}}}function v(){r.fetchBySkipAndLimit(0,3).success(function(e){return w.topicList=e}),g().then(function(e){w.tabs=e,null!=n.params.month?(w.customRefreshEnabled=!1,m(n.params.month)):(w.customRefreshEnabled=!0,s())})}function g(){var e=[{title:"Recent",state:"beats"}];return l.fetchAvailableMonths().then(function(t){return angular.forEach(t.data,function(t){e.push({title:b(t),state:"beats.specified",stateParam:{month:t}})}),e})}function h(e,t){w.lock=!1,t.stateParam&&t.stateParam.month?(w.selectedBeats=[],m(t.stateParam.month),w.customRefreshEnabled=!1):(w.selectedBeats=[],w.pageForCustomRefresh=0,w.customRefreshEnabled=!0,s())}function b(e){var t=e.substring(0,2),n=e.substring(2,4);return n+"/"+t}function $(e,t){n.go("topics-detail",t)}function j(){l.postBeat(w.newBeat)}function C(e,t){n.go("compose-edit",t)}function S(e,t,n){a.uploadImage(n.files[0].file).success(function(e){return w.newBeat.image.push("http://ww4.sinaimg.cn/large/"+e.pid)})}var w=this,y=6,A=15,T=!0;w.upload=S,w.submitBeat=j,w.newBeat={text:"",featured:!1,safe:!0},w.customRefreshEnabled=!1,w.monthNeeded=[],w.tabs=[],w.lock=!1,w.selectedBeats=[],w.currentSelectedTab={},w.jcSubNavSettings=[{type:"toggle",title:"Featured Only",value:!1,event:"toggleFeatured"},{type:"toggle",title:"Hide Selfie",value:!0,event:"toggleWeired"}],w.getBeatOfMonth=m,w.scrollTop=u,w.pushBeatsPaginated=s,w.pageForCustomRefresh=0,v(),o.subscribe("jcSubNavSectionSwitched",h,e),o.subscribe("modifyBeats",p,e),o.subscribe("deleteBeats",d,e),o.subscribe("topicSelected",$,e),o.subscribe("editTopic",C,e)}e.$inject=["$scope","$http","$state","$document","appEvent","appService","topicsService","jwtHelper","beatsService"],angular.module("app.modules").controller("beatsCtrl",e)}(),function(){function e(e,t,n,i){function o(){return e.get(i.api+"v1/beats")}function a(t){return e["delete"](i.api+"v1/beats/"+t)}function r(t,n){return e.get(i.api+"v1/beats?sort=-time&skip="+t+"&limit="+n)}function c(t,n){return e.get(i.api+"beats/yymm/"+t+"/duration/"+n)}function l(){return e.get(i.api+"beats/months")}function s(t){return t._id?e.patch(i.api+"v1/beats/"+t._id,t):e.post(i.api+"v1/beats",t)}var u={fetchAll:o,fetchByMonth:c,fetchBySkipAndLimit:r,fetchAvailableMonths:l,deleteOne:a,postBeat:s};return u}e.$inject=["$http","$state","$document","APP_CONST"],angular.module("app.modules").service("beatsService",e)}(),function(){function e(e,t,n,i,o,a,r){function c(){u.topicId&&r.fetchOne(u.topicId).success(function(e){return u.newTopic=e})}function l(){r.postTopic(u.newTopic)}function s(e,t,n){a.uploadImage(n.files[0].file).success(function(e){return u.newTopic.content+="![image](http://ww4.sinaimg.cn/large/"+e.pid+")"})}var u=this;u.submitTopic=l,u.upload=s,u.topicId=n.params.id,u.newTopic={title:"Topic Title Here",content:"",featured:!1},c()}e.$inject=["$scope","$http","$state","$document","appEvent","appService","topicsService"],angular.module("app.modules").controller("composeCtrl",e)}(),function(){function e(e,t){t.$get().isAdmin()&&e.$get().addMenu([{title:"Compose",state:"compose",order:1}])}e.$inject=["jcNavProvider","appServiceProvider"],angular.module("app").config(e)}(),function(){function e(e,t,n,i,o,a,r,c){function l(){f.isAdmin=r.isAdmin(),c.fetchAll().success(function(e){return f.links=e})}function s(e,t,n){r.uploadImage(n.files[0].file).success(function(e){return f.newLink.img="http://ww4.sinaimg.cn/large/"+e.pid})}function u(e){i.open(e)}function p(){c.postLink(f.newLink)}function d(e){f.newLink=e}function m(e){c.deleteOne(e._id)}var f=this;f.upload=s,f.open=u,f.submit=p,f.modify=d,f.del=m,f.isAdmin=!1,f.links=[],f.newLink={title:"New Link Title",description:"Site Description",img:"Image URL",alias:"Owner's Nickname",color:"Experimental Tag Color Picker",href:"Link Goes Here"},l()}e.$inject=["$scope","$http","$state","$window","$document","appEvent","appService","linksService"],angular.module("app.modules").controller("linksCtrl",e)}(),function(){function e(e,t){t.$get().isAdmin()&&e.$get().addMenu([{title:"Idols!",state:"links",order:8}])}e.$inject=["jcNavProvider","appServiceProvider"],angular.module("app").config(e)}(),function(){function e(e,t,n,i){function o(){return e.get(i.api+"v1/links")}function a(t){return e["delete"](i.api+"v1/links/"+t)}function r(t,n){return e.get(i.api+"v1/links?sort=-time&skip="+t+"&limit="+n)}function c(t){return t._id?e.patch(i.api+"v1/links/"+t._id,t):e.post(i.api+"v1/links",t)}var l={fetchAll:o,fetchBySkipAndLimit:r,deleteOne:a,postLink:c};return l}e.$inject=["$http","$state","$document","APP_CONST"],angular.module("app.modules").service("linksService",e)}(),function(){function e(e,t,n,i,o,a){function r(){a.login(l.userLogin).success(function(e){e!=={}&&localStorage.setItem("juicy_token",e)}).error(function(e){return a.reg(l.userLogin).success(function(e){return localStorage.setItem("juicy_token",e)})})}function c(){a.evict()}var l=this;l.loginOrReg=r,l.evict=c,l.userLogin={username:"",password:""}}e.$inject=["$scope","$http","$state","$document","appEvent","loginService"],angular.module("app.modules").controller("loginCtrl",e)}(),function(){function e(e,t){t.$get().isAdmin()&&e.$get().addMenu([{title:"Login",state:"login",order:4}])}e.$inject=["jcNavProvider","appServiceProvider"],angular.module("app").config(e)}(),function(){function e(e,t,n,i){function o(t){return e({url:i.api+"user/login",dataType:"json",method:"POST",data:t,headers:{"Content-Type":"application/json"}})}function a(t){return e({url:i.api+"user/reg",dataType:"json",method:"POST",data:t,headers:{"Content-Type":"application/json"}})}function r(){return e.get(i.api+"evictCache")}var c={login:o,reg:a,evict:r};return c}e.$inject=["$http","$state","$document","APP_CONST"],angular.module("app.modules").service("loginService",e)}(),function(){function e(e,t,n,i,o,a){function r(){l.topicId||n.go("beats"),a.fetchOne(l.topicId).success(function(e){return l.topicData=e})}function c(e,t){n.go("compose-edit",t)}var l=this;l.topicData={},l.topicId=n.params.id,r(),o.subscribe("editTopic",c,e)}e.$inject=["$scope","$http","$state","$document","appEvent","topicsService"],angular.module("app.modules").controller("topicsDetailCtrl",e)}(),function(){function e(e,t,n,i,o,a){function r(){c()}function c(){var e=u.pageForCustomRefresh*m;p&&(m=d),u.lock||(u.lock=!0,a.fetchBySkipAndLimit(e,m).success(function(e){e&&e.length?(angular.forEach(e,function(e){e.init=p,u.topicList||(u.topicList=[]),u.topicList.push(e)}),u.pageForCustomRefresh++,u.lock=!1):u.lock=!0,p=!1}))}function l(e,t){n.go("topics-detail",t)}function s(e,t){n.go("compose-edit",t)}var u=this;u.topicList=[],u.start=0,u.reachedEnd=!1,u.lock=!1,u.loadMore=r,u.pageForCustomRefresh=0;var p=!0,d=3,m=3;o.subscribe("topicSelected",l,e),o.subscribe("editTopic",s,e)}e.$inject=["$scope","$http","$state","$document","appEvent","topicsService"],angular.module("app.modules").controller("topicsCtrl",e)}(),function(){function e(e){e.$get().addMenu([{title:"Topics",state:"topics",order:5}])}e.$inject=["jcNavProvider"],angular.module("app").config(e)}(),function(){function e(e,t,n,i){function o(){return e.get(i.api+"v1/topics")}function a(t,n){return e.get(i.api+"v1/topics?sort=-createdAt&skip="+t+"&limit="+n+"&select=-content")}function r(t){return e.get(i.api+"v1/topics/"+t)}function c(t,n){return e.get(i.api+"topics/yymm/"+t+"/duration/"+n)}function l(){return e.get(i.api+"topics/months")}function s(t){return t._id?e.patch(i.api+"v1/topics/"+t._id,t):e.post(i.api+"v1/topics",t)}var u={fetchAll:o,fetchByMonth:c,fetchBySkipAndLimit:a,fetchAvailableMonths:l,fetchOne:r,postTopic:s};return u}e.$inject=["$http","$state","$document","APP_CONST"],angular.module("app.modules").service("topicsService",e)}();